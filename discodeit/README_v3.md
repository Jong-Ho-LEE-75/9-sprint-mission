# ğŸ“® Postman Collection v3 - ì™„ë²½ ê°€ì´ë“œ

## ğŸ¯ v3ì˜ í•µì‹¬ ê°œì„ ì‚¬í•­

### âœ… í•´ê²°ëœ ëª¨ë“  ë¬¸ì œ

| ë¬¸ì œ | v2 | v3 |
|------|----|----|
| "No tests found" ì—ëŸ¬ | âŒ ì¼ë¶€ API | âœ… ëª¨ë“  APIì— Tests ì¶”ê°€ |
| user2 ë¡œê·¸ì¸ 404 ì—ëŸ¬ | âŒ user2ê°€ ìˆ˜ì •ë¨ | âœ… user2ëŠ” ì ˆëŒ€ ìˆ˜ì • ì•ˆí•¨ |
| ìˆ˜ì • í…ŒìŠ¤íŠ¸ | âŒ user2 ìˆ˜ì • | âœ… user4 ì¶”ê°€í•´ì„œ ìˆ˜ì • |
| ì‚­ì œ í›„ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ | âŒ ê°„í˜¹ ë°œìƒ | âœ… ì™„ì „ í•´ê²° |

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (5ë‹¨ê³„)

### 1ë‹¨ê³„: Import

**Collection Import:**
```
Postman > Import > Discodeit_API_Collection_v3.postman_collection.json
```

**Environment Import:**
```
Postman > Environments > Import > Discodeit_Environment_v3.postman_environment.json
```

### 2ë‹¨ê³„: Environment ì„ íƒ

ìš°ì¸¡ ìƒë‹¨ì—ì„œ **"Discodeit Local v3"** ì„ íƒ âœ…

### 3ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í™•ì¸

```bash
lsof -i :8080
```

ì‹¤í–‰ë˜ì§€ ì•Šì•˜ë‹¤ë©´:
```bash
cd /Users/ijongho/IdeaProjects/9-sprint-mission/discodeit
./gradlew bootRun
```

### 4ë‹¨ê³„: ì´ˆê¸° ì„¤ì • ì‹¤í–‰ â­ ì¤‘ìš”!

**Collection Runner ì‚¬ìš© (ê°•ë ¥ ì¶”ì²œ):**
1. "0. ì´ˆê¸° ì„¤ì • (ë¨¼ì € ì‹¤í–‰)" í´ë” ìš°í´ë¦­
2. **Run folder** í´ë¦­
3. **Run** ë²„íŠ¼ í´ë¦­
4. 6ê°œ APIê°€ ìë™ ì‹¤í–‰ë¨:
   - âœ… ì‚¬ìš©ì 1 ë“±ë¡
   - âœ… ì‚¬ìš©ì 2 ë“±ë¡
   - âœ… ì‚¬ìš©ì 3 ë“±ë¡
   - âœ… ì±„ë„ 1 ìƒì„±
   - âœ… ì±„ë„ 2 ìƒì„±
   - âœ… ì±„ë„ 3 ìƒì„±

### 5ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì‹œì‘!

ì´ì œ ëª¨ë“  APIë¥¼ ìˆœì„œëŒ€ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

## ğŸ“‹ Collection êµ¬ì¡° v3

```
ë””ìŠ¤ì½”ë“œì‡ API v3
â”‚
â”œâ”€â”€ 0. ì´ˆê¸° ì„¤ì • (ë¨¼ì € ì‹¤í–‰) â­ ê°€ì¥ ë¨¼ì €!
â”‚   â”œâ”€â”€ ì‚¬ìš©ì 1 ë“±ë¡ âœ… Tests í¬í•¨
â”‚   â”œâ”€â”€ ì‚¬ìš©ì 2 ë“±ë¡ âœ… Tests í¬í•¨
â”‚   â”œâ”€â”€ ì‚¬ìš©ì 3 ë“±ë¡ âœ… Tests í¬í•¨
â”‚   â”œâ”€â”€ ì±„ë„ 1 ìƒì„± (ì¼ë°˜) âœ… Tests í¬í•¨
â”‚   â”œâ”€â”€ ì±„ë„ 2 ìƒì„± (ê³µì§€) âœ… Tests í¬í•¨
â”‚   â””â”€â”€ ì±„ë„ 3 ìƒì„± (ì§ˆë¬¸) âœ… Tests í¬í•¨
â”‚
â”œâ”€â”€ 1. ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”œâ”€â”€ ì „ì²´ ì‚¬ìš©ì ì¡°íšŒ âœ… Tests: ìµœì†Œ 3ëª… í™•ì¸
â”‚   â”œâ”€â”€ ì‚¬ìš©ì1 ì¡°íšŒ âœ… Tests: username í™•ì¸
â”‚   â”œâ”€â”€ ì‚¬ìš©ì4 ë“±ë¡ âœ… Tests: ID ì €ì¥ (ìˆ˜ì • í…ŒìŠ¤íŠ¸ìš©)
â”‚   â”œâ”€â”€ ì‚¬ìš©ì4 ìˆ˜ì • âœ… Tests: ìˆ˜ì • í™•ì¸
â”‚   â”œâ”€â”€ ì‚¬ìš©ì3 ì‚­ì œ âœ… Tests: 204 í™•ì¸
â”‚   â””â”€â”€ ì‚¬ìš©ì1 ì˜¨ë¼ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ âœ… Tests: 200 í™•ì¸
â”‚
â”œâ”€â”€ 2. ê¶Œí•œ ê´€ë¦¬
â”‚   â”œâ”€â”€ user1 ë¡œê·¸ì¸ âœ… Tests: 200, username í™•ì¸
â”‚   â””â”€â”€ user2 ë¡œê·¸ì¸ âœ… Tests: 200, username í™•ì¸
â”‚
â”œâ”€â”€ 3. ì±„ë„ ê´€ë¦¬
â”‚   â”œâ”€â”€ user1ì˜ ì±„ë„ ëª©ë¡ ì¡°íšŒ âœ… Tests: ìµœì†Œ 3ê°œ í™•ì¸
â”‚   â”œâ”€â”€ ì±„ë„1 ì¡°íšŒ âœ… Tests: name í™•ì¸
â”‚   â”œâ”€â”€ ì±„ë„2 ìˆ˜ì • âœ… Tests: ìˆ˜ì • í™•ì¸
â”‚   â”œâ”€â”€ ì±„ë„3 ì‚­ì œ âœ… Tests: 204 í™•ì¸
â”‚   â””â”€â”€ ë¹„ê³µê°œ ì±„ë„ ìƒì„± âœ… Tests: ID ì €ì¥, PRIVATE í™•ì¸
â”‚
â”œâ”€â”€ 4. ë©”ì‹œì§€ ê´€ë¦¬
â”‚   â”œâ”€â”€ ì±„ë„1ì— ë©”ì‹œì§€1 ì „ì†¡ (user1) âœ… Tests: ID ì €ì¥
â”‚   â”œâ”€â”€ ì±„ë„1ì— ë©”ì‹œì§€2 ì „ì†¡ (user2) âœ… Tests: ID ì €ì¥
â”‚   â”œâ”€â”€ ì±„ë„1 ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ âœ… Tests: ìµœì†Œ 2ê°œ í™•ì¸
â”‚   â”œâ”€â”€ ë©”ì‹œì§€1 ì¡°íšŒ âœ… Tests: content í™•ì¸
â”‚   â”œâ”€â”€ ë©”ì‹œì§€1 ìˆ˜ì • âœ… Tests: ìˆ˜ì • í™•ì¸
â”‚   â””â”€â”€ ë©”ì‹œì§€2 ì‚­ì œ âœ… Tests: 204 í™•ì¸
â”‚
â”œâ”€â”€ 5. ë©”ì‹œì§€ ìˆ˜ì‹  ì •ë³´
â”‚   â”œâ”€â”€ ìˆ˜ì‹ ì •ë³´ ìƒì„± âœ… Tests: ID ì €ì¥
â”‚   â”œâ”€â”€ ìˆ˜ì‹ ì •ë³´ ìˆ˜ì • âœ… Tests: 200 í™•ì¸
â”‚   â””â”€â”€ ìˆ˜ì‹ ì •ë³´ ì¡°íšŒ âœ… Tests: 1ê°œ ì´ìƒ í™•ì¸
â”‚
â””â”€â”€ 6. ë°”ì´ë„ˆë¦¬ íŒŒì¼
    â”œâ”€â”€ íŒŒì¼ 1ê°œ ì¡°íšŒ âœ… Tests í¬í•¨
    â””â”€â”€ íŒŒì¼ ì—¬ëŸ¬ê°œ ì¡°íšŒ âœ… Tests í¬í•¨
```

---

## ğŸ¯ í•µì‹¬ ê°œì„ ì‚¬í•­

### 1. ëª¨ë“  APIì— Tests ìŠ¤í¬ë¦½íŠ¸

**ì´ì „ (v2):**
```javascript
// Tests ì—†ìŒ â†’ "No tests found" ì—ëŸ¬
```

**v3:**
```javascript
pm.test("âœ… ì „ì²´ ì‚¬ìš©ì ì¡°íšŒ ì„±ê³µ", function() {
    pm.response.to.have.status(200);
    var jsonData = pm.response.json();
    pm.expect(jsonData.length).to.be.at.least(3);
    console.log("âœ… ì‚¬ìš©ì ìˆ˜:", jsonData.length);
});
```

### 2. ì‚¬ìš©ì ê´€ë¦¬ ê·œì¹™

| ì‚¬ìš©ì | ìš©ë„ | ìˆ˜ì • | ì‚­ì œ | ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ |
|--------|------|------|------|--------------|
| user1 | ì¼ë°˜ ì‚¬ìš© | âŒ | âŒ | âœ… |
| user2 | ë¡œê·¸ì¸ ì „ìš© | âŒ | âŒ | âœ… |
| user3 | ì‚­ì œ í…ŒìŠ¤íŠ¸ | âŒ | âœ… | âŒ |
| user4 | ìˆ˜ì • í…ŒìŠ¤íŠ¸ | âœ… | âŒ | âŒ |

**í•µì‹¬:** user2ëŠ” **ì ˆëŒ€ ìˆ˜ì •/ì‚­ì œí•˜ì§€ ì•ŠìŒ!**

### 3. Tests ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

**200 OK ì‘ë‹µ:**
```javascript
pm.test("âœ… user1 ë¡œê·¸ì¸ ì„±ê³µ", function() {
    pm.response.to.have.status(200);
    var jsonData = pm.response.json();
    pm.expect(jsonData.username).to.eql("user1");
    console.log("âœ… ë¡œê·¸ì¸ ì‚¬ìš©ì:", jsonData.username);
});
```

**201 Created ì‘ë‹µ:**
```javascript
pm.test("âœ… ì‚¬ìš©ì ë“±ë¡ ì„±ê³µ", function() {
    pm.response.to.have.status(201);
    var jsonData = pm.response.json();
    pm.environment.set("userId1", jsonData.id);
    console.log("âœ… userId1 ì €ì¥:", jsonData.id);
});
```

**204 No Content ì‘ë‹µ:**
```javascript
pm.test("âœ… ì‚¬ìš©ì ì‚­ì œ ì„±ê³µ", function() {
    pm.response.to.have.status(204);
    console.log("âœ… user3 ì‚­ì œ ì™„ë£Œ");
});
```

**ë°°ì—´ ì‘ë‹µ:**
```javascript
pm.test("âœ… ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ ì„±ê³µ", function() {
    pm.response.to.have.status(200);
    var jsonData = pm.response.json();
    pm.expect(jsonData).to.be.an('array');
    pm.expect(jsonData.length).to.be.at.least(3);
    console.log("âœ… ì‚¬ìš©ì ìˆ˜:", jsonData.length);
});
```

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì „ì²´ í”Œë¡œìš° (ì¶”ì²œ)

```
1. ì´ˆê¸° ì„¤ì • ì‹¤í–‰ (0ë²ˆ í´ë”)
   â†’ ì‚¬ìš©ì 3ëª…, ì±„ë„ 3ê°œ ìƒì„±
   â†“
2. user1 ë¡œê·¸ì¸
   â†’ âœ… 200 OK
   â†“
3. user2 ë¡œê·¸ì¸
   â†’ âœ… 200 OK (user2ëŠ” ì ˆëŒ€ ìˆ˜ì • ì•ˆë¨!)
   â†“
4. ì „ì²´ ì‚¬ìš©ì ì¡°íšŒ
   â†’ âœ… ìµœì†Œ 3ëª… í™•ì¸
   â†“
5. user4 ë“±ë¡ ë° ìˆ˜ì •
   â†’ âœ… user4ë§Œ ìˆ˜ì •ë¨
   â†“
6. user3 ì‚­ì œ
   â†’ âœ… ì‚­ì œ í›„ì—ë„ user1, user2 ì •ìƒ ì‘ë™
   â†“
7. ì±„ë„/ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸
   â†’ âœ… ëª¨ë“  API ì •ìƒ ì‘ë™
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: Collection Runner ì „ì²´ ì‹¤í–‰

**í•œ ë²ˆì— ëª¨ë“  API í…ŒìŠ¤íŠ¸:**
```
Collection ìš°í´ë¦­ â†’ Run collection
   â†“
ìˆœì„œ í™•ì¸
   â†“
Run ë²„íŠ¼ í´ë¦­
   â†“
ê²°ê³¼ í™•ì¸: Xê°œ Passed, 0ê°œ Failed
```

---

## ğŸ”§ Environment ë³€ìˆ˜ v3

| ë³€ìˆ˜ | ì„¤ëª… | ìë™ ì €ì¥ | ìš©ë„ |
|------|------|----------|------|
| baseUrl | API URL | âŒ ìˆ˜ë™ | ëª¨ë“  API |
| userId1 | ì‚¬ìš©ì1 ID | âœ… ìë™ | ì¼ë°˜ ì‚¬ìš© |
| userId2 | ì‚¬ìš©ì2 ID | âœ… ìë™ | ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ |
| userId3 | ì‚¬ìš©ì3 ID | âœ… ìë™ | ì‚­ì œ í…ŒìŠ¤íŠ¸ |
| userId4 | ì‚¬ìš©ì4 ID | âœ… ìë™ | ìˆ˜ì • í…ŒìŠ¤íŠ¸ |
| channelId1 | ì±„ë„1 ID | âœ… ìë™ | ì¼ë°˜ ì‚¬ìš© |
| channelId2 | ì±„ë„2 ID | âœ… ìë™ | ìˆ˜ì • í…ŒìŠ¤íŠ¸ |
| channelId3 | ì±„ë„3 ID | âœ… ìë™ | ì‚­ì œ í…ŒìŠ¤íŠ¸ |
| privateChannelId | ë¹„ê³µê°œ ì±„ë„ ID | âœ… ìë™ | ë¹„ê³µê°œ ì±„ë„ |
| messageId1 | ë©”ì‹œì§€1 ID | âœ… ìë™ | ì¼ë°˜ ì‚¬ìš© |
| messageId2 | ë©”ì‹œì§€2 ID | âœ… ìë™ | ì‚­ì œ í…ŒìŠ¤íŠ¸ |
| readStatusId1 | ìˆ˜ì‹ ì •ë³´ ID | âœ… ìë™ | ìˆ˜ì‹  ì •ë³´ |
| binaryContentId | íŒŒì¼ ID | âŒ ìˆ˜ë™ | íŒŒì¼ í…ŒìŠ¤íŠ¸ |

---

## âš ï¸ ì¤‘ìš” ì²´í¬ë¦¬ìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ ì „ì— ë°˜ë“œì‹œ í™•ì¸:

- [ ] ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ ì¤‘ì¸ê°€? (`lsof -i :8080`)
- [ ] Environmentê°€ "Discodeit Local v3"ë¡œ ì„ íƒë˜ì—ˆëŠ”ê°€?
- [ ] "0. ì´ˆê¸° ì„¤ì •" í´ë”ë¥¼ ì‹¤í–‰í–ˆëŠ”ê°€?
- [ ] Console ì°½ì´ ì—´ë ¤ìˆëŠ”ê°€? (Cmd/Ctrl + Alt + C)

---

## ğŸ’¡ Tests ê²°ê³¼ í™•ì¸

### Postmanì—ì„œ í™•ì¸

**ê° ìš”ì²­ ì‹¤í–‰ í›„:**
```
Tests íƒ­ â†’ í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸
  âœ… Test Results (1/1) â† ì„±ê³µ
  âŒ Test Results (0/1) â† ì‹¤íŒ¨
```

**Consoleì—ì„œ í™•ì¸:**
```
âœ… ì‚¬ìš©ì1 ID ì €ì¥: uuid-value
âœ… ë¡œê·¸ì¸ ì‚¬ìš©ì: user1
âœ… ì‚¬ìš©ì ìˆ˜: 4
```

### Collection Runner ê²°ê³¼

**ì‹¤í–‰ í›„ Summary:**
```
âœ… Passed: 30
âŒ Failed: 0
Total Tests: 30
```

---

## ğŸ”„ ë°ì´í„° ë¦¬ì…‹

### ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ í›„

```
1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘
   â†’ ëª¨ë“  ë°ì´í„° ì‚­ì œ (ë©”ëª¨ë¦¬ DB)
   â†“
2. "0. ì´ˆê¸° ì„¤ì •" ë‹¤ì‹œ ì‹¤í–‰
   â†’ ìƒˆë¡œìš´ ì‚¬ìš©ì/ì±„ë„ ìƒì„±
   â†“
3. Environment ë³€ìˆ˜ ìë™ ì—…ë°ì´íŠ¸
   â†’ ìƒˆ IDë¡œ êµì²´
   â†“
4. í…ŒìŠ¤íŠ¸ ê³„ì† ê°€ëŠ¥
```

---

## ğŸŠ v3ì˜ ì¥ì  ì´ì •ë¦¬

### âœ… ì™„ë²½í•œ ì•ˆì •ì„±

```
âœ… ëª¨ë“  APIì— Tests ìŠ¤í¬ë¦½íŠ¸
âœ… "No tests found" ì—ëŸ¬ ì™„ì „ ì œê±°
âœ… user2 ë¡œê·¸ì¸ 404 ì—ëŸ¬ ì™„ì „ í•´ê²°
âœ… ì‚­ì œ í…ŒìŠ¤íŠ¸ í›„ì—ë„ ê³„ì† ì‚¬ìš© ê°€ëŠ¥
âœ… ëª…í™•í•œ ì‚¬ìš©ì ì—­í•  ë¶„ë¦¬
âœ… ìì„¸í•œ Console ë¡œê·¸
âœ… Collection Runner ì™„ë²½ ì§€ì›
```

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- **API_DOCUMENTATION.md**: ì „ì²´ API ìƒì„¸ ë¬¸ì„œ
- **TROUBLESHOOTING.md**: ë¬¸ì œ í•´ê²° ê°€ì´ë“œ
- **test_api_automation.py**: Python ìë™í™” ìŠ¤í¬ë¦½íŠ¸

---

## ğŸ‰ ì´ì œ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤!

**v3 Collectionì„ Importí•˜ê³  ë°”ë¡œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”!**

1. âœ… Import 2ê°œ íŒŒì¼
2. âœ… Environment ì„ íƒ
3. âœ… "0. ì´ˆê¸° ì„¤ì •" Run
4. âœ… ëª¨ë“  API ì™„ë²½ ì‘ë™!

**ë¬¸ì œê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!** ğŸš€
